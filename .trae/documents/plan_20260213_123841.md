I will refactor the project architecture to support both local SQLite and remote backend API modes, using a "Service Adapter" pattern.

### **Architecture Overview**
1.  **`src/config/index.js`**:
    *   Defines the backend API URL.
    *   If the URL is empty, the app defaults to "Micro-Frontend Mode" (Local SQLite).
2.  **`src/utils/request.js`**:
    *   A standard `fetch` wrapper (since Axios is not installed) to handle HTTP requests.
    *   Implements the user's requested `request({ url, method, data })` format.
3.  **`src/api/` (Remote Layer)**:
    *   `auth.js`: Login/Register API definitions.
    *   `rank.js`: Leaderboard query/save API definitions.
4.  **`src/utils/localDB.js` (Local Layer)**:
    *   Refactored from the existing `db.js`.
    *   Handles all SQLite + IndexedDB operations strictly for local mode.
5.  **`src/services/dataService.js` (The Adapter)**:
    *   **Crucial Layer**: This module checks the config.
    *   If `config.useRemote` is true -> Calls `src/api/*`.
    *   If `config.useRemote` is false -> Calls `src/utils/localDB.js`.
    *   The rest of the app (Stores, Views) will **only** talk to this service, unaware of the underlying storage method.

### **Implementation Steps**

1.  **Create Configuration**:
    *   Create `src/config/index.js` with `baseUrl` and `useRemote` flags.
2.  **Build Request Utility**:
    *   Create `src/utils/request.js` to handle API calls with interceptors for responses.
3.  **Define Remote APIs**:
    *   Create `src/api/auth.js` and `src/api/rank.js` following the user's `export function queryList` style.
4.  **Refactor Local Database**:
    *   Rename/Move `src/utils/db.js` to `src/utils/localDB.js`.
    *   Ensure it exports the same unified interface methods (`login`, `register`, `getLeaderboard`, `saveScore`).
5.  **Implement Service Adapter**:
    *   Create `src/services/dataService.js` to switch between `api` and `localDB` based on config.
6.  **Update Application Logic**:
    *   Update `src/stores/user.js` to import from `dataService.js`.
    *   Update `home.vue` and `snake.vue` to use `dataService.js`.

This approach ensures a clean separation of concerns and allows seamless switching between "Offline/Local" and "Online/Enterprise" modes.